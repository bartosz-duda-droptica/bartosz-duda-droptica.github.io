"use strict";!function(n,o){function i(t,i){this.defaultSettings={tabItemSelector:".customer-stories-item",navigationSelector:".customer-stories-tabs-titles",navigationTabSelector:".customer-stories-item-tab-title__button"},this.settings=n.extend(!0,this.defaultSettings,i||{}),this.$wrapper=t,this.$tabs=t.find(this.settings.tabItemSelector),this.$navigation=t.find(this.settings.navigationSelector),this.$navigationLinks=t.find(this.settings.navigationSelector+" "+this.settings.navigationTabSelector),this.activeTabIndex=0,this.init(),this.bindDragEvent(),this.bindNavigation(),this.bindResizeEvent();t=this.$navigationLinks.eq(0);t.click().addClass("active"),this.moveIndicator(t)}i.prototype.init=function(){this.$navigation.append('<div class="customer-stories-item-tab-title__indicator" />'),this.$indicator=this.$navigation.find(".customer-stories-item-tab-title__indicator")},i.prototype.bindDragEvent=function(){var i,e=this.$navigation,n=!1,o=0;e.on("mousedown",function(t){t.preventDefault(),n=!0,i=t.pageX-e.offset().left,o=e.scrollLeft()}),e.on("mouseleave",function(){n=!1}),e.on("mouseup",function(){n=!1}),e.on("mousemove",function(t){n&&(t.preventDefault(),t=t.pageX-e.offset().left-i,e.animate({scrollLeft:o-t},1))})},i.prototype.bindNavigation=function(){var e=this;this.$navigationLinks.click(function(t){t.preventDefault();var i=n(this),t=parseInt(i.data("tab-index"));t!==e.activeTabIndex&&(e.moveIndicator(i),e.scrollIconToView(i),e.stopVideos(),e.showTab(t))})},i.prototype.showTab=function(t){var i=this;this.$tabs.eq(this.activeTabIndex).fadeOut(150,function(){i.$tabs.eq(t).fadeIn(150)}),this.$navigationLinks.eq(this.activeTabIndex).removeClass("active"),this.$navigationLinks.eq(t).addClass("active"),this.activeTabIndex=t},i.prototype.scrollIconToView=function(t){var i=this.$navigation.scrollLeft(),e=o.utility.getViewportDimensions().width,n=t.position().left,t=t.position().left+t.outerWidth();(n<0||e+i<t+i)&&this.$navigation.animate({scrollLeft:i+n-20},300)},i.prototype.moveIndicator=function(t){this.$indicator.css({left:t.position().left+this.$navigation.scrollLeft(),width:t.outerWidth()})},i.prototype.stopVideos=function(){this.$tabs.eq(this.activeTabIndex).find(".cta-video-button.cta-video--inline").trigger("pauseVideo")},i.prototype.bindResizeEvent=function(){var t=this;n(window).resize(function(){t.moveIndicator(t.$navigationLinks.eq(t.activeTabIndex))})},n.fn.hereCustomerStories=i.jQueryInterface=function(t){return this.each(function(){new i(n(this),t)})},o.behaviors.hereCustomerStories={attach:function(t){n(".customer-stories",t).once("here-customer-stories").hereCustomerStories()}}}(jQuery,Drupal);