"use strict";!function(n,e){function a(t){this.$parent={},this.$line={},this.bottom_gradient_height=8,this.line_height=this.bottom_gradient_height,this.animation_finished=!0,this.line_animation_duration=100,this.$gradient={},this.initial_value=-1,this.max_grow=60,this.max_cover=70,this.min_cover=20,this.trigger_point=150,this.getInitialValue=function(){return parseInt(this.$gradient.css("background-image").match(/\d+%/))},this.animateBottomLine=function(){var i=Math.round(this.$line.offset().top-n(window).scrollTop()+this.line_height),t=this;this.animation_finished&&(this.$line.animate({height:i<=180?0:this.bottom_gradient_height},{duration:this.line_animation_duration,queue:!1,complete:function(){t.animation_finished=!0,t.line_height=t.$line.height()}}),this.animation_finished=!1)},this.animateGradient=function(){var i=Math.round((this.$gradient[0].getBoundingClientRect().top+this.$gradient.height()-this.trigger_point)/this.$gradient.height()*100),i=Math.max(this.min_cover,Math.min(i,this.max_cover)),i=this.initial_value+Math.min(this.max_cover-i,this.initial_value/100*this.max_grow);this.$gradient.css("background-image",this.$gradient.css("background-image").replace(/\d+%/,i+"%"))},this.staticGradient=function(){void 0!==this.$gradient.attr("style")&&this.$gradient.removeAttr("style")},this.init=function(){var i=this;i.$parent=t,i.$gradient=i.$parent.find(".layout--theme-gradient__gradient-layer"),i.$line=i.$parent.find(".bottom-frame"),i.initial_value=i.getInitialValue()},this.init()}var h=[];e.behaviors.oneColumnGradients={attach:function(i,t){n(".layout--theme-animate",i).once("onecol_gradient").each(function(){h.push(new a(n(this)))}),n(document).scroll()}},n(window).on("scroll resize",function(){var i,t=e.utility.isMobile();for(i in h)t?h[i].staticGradient():h[i].animateGradient()})}(jQuery,Drupal);